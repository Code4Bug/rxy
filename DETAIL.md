# 任逍遥 - 文字修仙武侠 RPG 设计文档

## 1. 游戏概述
- **名称**: 任逍遥 (Ren Xiaoyao)
- **类型**: 文字冒险 / 武侠 / 玄幻 / RPG
- **核心玩法**: 通过文字描述探索世界，通过菜单指令进行交互，提升角色实力，探索宏大世界。
- **技术栈**: Vue 3 + Tailwind CSS

## 2. 故事背景
- **世界观**: 这是一个名为“神州浩土”的神秘大陆。传说上古时期，仙魔大战，天地崩碎，后有大能重塑山河。如今，武道昌盛，更有修仙传说流传于世。
- **主角身世**: 主角名为“任逍遥”。
- **开局**: 出生在一个名为“天弃洞”的神秘洞穴中。身旁只有一卷残破古经和一把不知名的断剑。记忆全无，唯有“任逍遥”三字刻在随身玉佩之上。

## 3. UI 界面设计
游戏界面追求极简主义，沉浸式文字体验。
分为两大主要区域：

### 3.1 上部：主要显示区 (Main Display)
- **功能**: 显示剧情描述、环境介绍、战斗过程、系统提示。
- **样式**: 深色背景，浅色文字，重要的关键词（如物品、敌人、NPC）高亮显示。
- **滚动**: 自动滚动到底部，保留历史记录。

### 3.2 下部：操作菜单区 (Action Menu)
- **功能**: 展示当前可用的所有交互指令。
- **类别**:
    - **移动**: 东南西北，进入/离开。
    - **交互**: 观察、拾取、对话、使用。
    - **状态**: 属性面板、背包、技能书、任务。
    - **战斗**: (战斗状态下激活) 攻击、技能、道具、逃跑。

## 4. 核心系统

### 4.1 属性系统 (Attributes)
- **基础属性**:
    - **气血 (HP)**: 生命值，归零则昏迷/死亡。
    - **内力 (MP)**: 释放武功技能消耗。
    - **攻击 (Attack)**: 决定物理伤害。
    - **防御 (Defense)**: 减少受到的伤害。
    - **身法 (Agility)**: 决定出手速度和闪避率。
- **特殊属性**:
    - **根骨 (Talent)**: 影响修炼速度和生命成长。
    - **悟性 (Insight)**: 影响武功学习速度和突破概率。
    - **福源 (Luck)**: 影响掉宝率和奇遇触发。

### 4.2 修炼境界 (Cultivation)
- **等级划分**:
    1.  **初入江湖**: 炼体境 (1-9层)
    2.  **略有小成**: 后天境 (1-9层)
    3.  **融会贯通**: 先天境 (1-9层)
    4.  **一代宗师**: 宗师境
    5.  **返璞归真**: 大宗师
    6.  **陆地神仙**: 天人境
- **机制**: 通过战斗、打坐、服用丹药获取“修为/经验”，满条后需“突破”，突破有概率失败（需辅佐丹药或高心法）。

### 4.3 武功系统 (Martial Arts)
- **分类**:
    - **外功**: 主动技能，造成伤害或控制。
    - **内功**: 被动加成属性，回血回蓝，提供特殊护盾。
    - **轻功**: 增加闪避，在大地图移动可能触发特殊捷径。
- **熟练度**: 每个武功有熟练度，使用越多威力越大，达到一定层数解锁新特效。

### 4.4 装备系统 (Equipment)
- **部位**: 武器、衣服、饰品、鞋子。
- **品质**: 
    - 凡铁 (白)
    - 精良 (绿)
    - 稀有 (蓝)
    - 史诗 (紫)
    - 传说 (橙)
    - 神话 (红)

## 5. 游戏流程 (Game Loop)
1.  **探索**: 在位置节点移动，触发随机遇敌或发现资源。
2.  **成长**: 战斗获得经验、装备碎片；修炼提升境界。
3.  **奇遇**: (Roguelike元素) 随机事件，选择不同分支导致不同结果。

## 6. 技术实现细节
- **状态管理**: 使用 Pinia 管理 PlayerState, WorldState, CombatState。
- **样式**: Tailwind CSS 实现暗黑武侠风 (Dark Mode default)。
- **组件**:
    - `GameLog.vue`: 文字流显示。
    - `ActionBar.vue`: 动态按钮。
    - `StatusPanel.vue`: 属性弹窗。
